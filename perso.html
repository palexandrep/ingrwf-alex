<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="descrition" keywords="">
    <title>perso</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

		
		<header>

		<h1>Voici les nouveaux membres de mon personnel</h1>

		<nav class="nav_top">
			<ul>
				<li><a href="index.html">Index</a></li>
			</ul>
		</nav>
		
	</header>
	<aside>
		
		<form action="">
			
			<input type="text" placeholder="Votre nom" id="nom"><br>
			<input type="text" placeholder="Votre prénom" id="prenom"><br>
			<input type="number" placeholder="Votre numéro de téléphone" id="tel"><br>
			<input type="email" placeholder="Votre email" id="email"><br>
			<input type="number" placeholder="Votre âge" id="age"><br>
			<label for="inscription"  name="inscrition" >Inscription</label>
			<input type="checkbox" name="inscrition" id="inscription"><br>
			<button>Ajouter</button>

		</form>
	</aside>

	<main>

	<div>
		<ul>
			
		</ul>
	</div>

	<section>
		<h2>Le nom et le prénom</h2>
		<dl>
			<dt>Téléphone</dt>
			<dd class="tel"></dd>
			<dt>Email</dt>
			<dd class="mail"></dd>
			<dt>Age</dt>
			<dd class="age">00</dd>
			<dt>Iscription</dt>
			<dd class="inscrit"></dd>

		</dl>
	</section>

		
	</main>

	<footer>
		
	</footer>

	

	<script>
		
	//data
	myPersonnel = new Array();
	myPersonnel.push({
		'nom' : 'Piette',
		'prenom' : 'Alexandre',
		'telephone' : '4974/446545',
		'email' : 'blablabla@hotmail.com',
		'age' : 30,
		"formation" : true
	});
	myPersonnel.push({
		'nom' : 'Demaret',
		'prenom' : 'Roger',
		'telephone' : '4974/40000',
		'email' : 'hello@hotmail.com',
		'age' : 80,
		"formation" : false
	});
	

	//selecteur
	var myList = document.querySelector('div ul');
	var myTitle = document.querySelector('h2');
	var myPhone = document.querySelector('.tel');
	var myMail = document.querySelector('.mail');
	var myAge = document.querySelector('.age');
	var myInscrit = document.querySelector('.inscrit');
	var btn = document.querySelector('button');
	var checked = document.querySelector('#inscription');
	var newNom = document.querySelector('#nom');
	var newPreom = document.querySelector('#prenom');
	var newAge = document.querySelector('#age');
	var newTel = document.querySelector('#tel');
	var newEmail = document.querySelector('#email');

	//ajout d'une personne



	btn.addEventListener('click', function(e){

		e.preventDefault();

		if(myInscrit.checked == true){
			inscrition = true;
		}
		else{
			inscrition = false;
		}

		newPersonne = {
			'nom' : newNom.value,
			'prenom' : newPreom.value,
			'tel' : newTel.value,
			'email' : newEmail.value,
			'age' : newAge.value,
			'inscrit' : ''
		}
		myPersonnel.push(newPersonne);
		console.log(myPersonnel);
		CreateList();
		

	});


	function AffData(id){

				myTitle.innerHTML = myPersonnel[id].nom + ' ' + myPersonnel[id].prenom;
				myPhone.innerHTML = myPersonnel[id].telephone;
				myMail.innerHTML = myPersonnel[id].email;
				myAge.innerHTML = myPersonnel[id].age;
				//alert(myPersonnel[id].formation);
				if (myPersonnel[id].formation == true) {
					
					myInscrit.classList.remove('bad');
					myInscrit.innerHTML = 'Inscrit';

				}
				else{
					myInscrit.innerHTML = 'Pas inscrit';
					myInscrit.classList.add('bad');
				}
			}
	
	//affichage des données de la première personne
	AffData(0);


	//bouclage des personnes et affichage dans aside en ul>li

	function CreateList(){

		myList.innerHTML = '';
		for (var i = myPersonnel.length - 1; i >= 0; i--) {
		myList.innerHTML+= '<li data-id="' + i + '">' + myPersonnel[i].nom + ' ' + myPersonnel[i].prenom + '</li>';
		};

		myLis = document.querySelectorAll('div li');

		for (var i = 0; i < myLis.length; i++){

			myLis[i].addEventListener('click', function(){

				var myId = this.getAttribute('data-id');

				AffData(myId);	

			});

		};

	}

	CreateList();
	


	</script>
</body>
</html>